<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
<script th:src="@{/javascript/paymentReceipt.js}"></script>
<link rel="stylesheet" th:href="@{/CSS/transactionConfirmation.css}">
<title>Transaction Confirmation</title>
</head>
<body>
	<nav>
		<img src="image/logo1.png" alt="Logo" class="topleft"
			style="margin-top: 12px;">
		<h1 class="topleft"
			style="color: rgb(253, 220, 54); margin-top: 10px;">ark</h1>
		<h1 class="topleft" style="margin-top: 10px;">Smart</h1>
		<a th:href="@{/}" class="btn1">Logout</a> <a th:href="@{/price}"
			target="blank">Pricing</a> <a th:href="@{/about}" target="blank">AboutUs</a>
	</nav>
	<div class="container">
		<h2>Thank You for Your Reservation!</h2>
		<div class="confirmation">
			<p>Your transaction for a parking spot has been confirmed.</p>
			<p>Reservation Details</p>
			<p th:text="'Name: ' + ${userName}"></p>
			<p th:text="'Email: ' + ${email}"></p>
			<p th:text="'Phone: ' + ${phoneNumber}"></p>
		</div>
		<div class="confirmation">
			<p th:text="'Your booked spots are ' + ${spotNumbers}"></p>
			<p th:text="'Transaction time is ' + ${transactionTime}"></p>
			<p
				th:text="'Your payment of Rs. ' + ${price} + ' has been processed.'"></p>
		</div>
		<div class="confirmation">
			<button class="btn"
				th:onclick="generatePaymentReceipt([[${userName}]], [[${email}]], [[${phoneNumber}]], [[${spotNumbers}]], [[${transactionTime}]], [[${price}]])">
				Download Receipt</button>
		</div>
	</div>
	<div class="confirmation">
		<form action="/sendEmail" method="get">
			<input type="hidden" name="email" th:value="${email}">
			<button class="btn">Send Verification Email</button>
		</form>
	</div>
	<footer>
		<div style="text-align: center; margin-top: 20px;">
			<p>&copy; 2024 Park Smart. All Rights Reserved.</p>
		</div>
	</footer>
	<section style="background-color: white;"
		th:if="${paymentSuccessMessage}">
		<script th:inline="javascript">
			/*<![CDATA[*/
			var paymentSuccessMessage = /*[[${paymentSuccessMessage}]]*/'';
			/*]]>*/
		</script>
		<script th:src="@{/javascript/paymentSuccess.js}"></script>
	</section>
</body>
</html>
